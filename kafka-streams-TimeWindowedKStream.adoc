== [[TimeWindowedKStream]] TimeWindowedKStream -- Time-Windowed Stream Aggregations

`TimeWindowedKStream` is the <<contract, abstraction>> of <<implementations, windowed record stream>> (of key-value pairs) that allows Kafka Streams developers for <<aggregate, aggregate>>, <<count, count>>, <<reduce, reduce>> aggregations over a record stream.

`TimeWindowedKStream` is the result of <<kafka-streams-KGroupedStream.adoc#windowedBy, KGroupedStream.windowedBy>> stream operator.

[source, java]
----
// FIXME Demo
----

TIP: Use <<kafka-streams-scala.adoc#, Scala API for Kafka Streams>> to make your Kafka Streams development more pleasant if Scala is your programming language.

[[contract]]
.TimeWindowedKStream Operators
[cols="1m,2",options="header",width="100%"]
|===
| Method
| Description

| aggregate
a| [[aggregate]]

[source, java]
----
KTable<Windowed<K>, VR> aggregate(
  final Initializer<VR> initializer,
  final Aggregator<? super K, ? super V, VR> aggregator)
KTable<Windowed<K>, VR> aggregate(
  final Initializer<VR> initializer,
  final Aggregator<? super K, ? super V, VR> aggregator,
  final Materialized<K, VR, WindowStore<Bytes, byte[]>> materialized)
----

Creates a <<kafka-streams-KTable.adoc#, KTable>> for an `Initializer`, an `Aggregator` and a <<kafka-streams-Materialized.adoc#, Materialized>> (view of a <<kafka-streams-StateStore-WindowStore.adoc#, WindowStore>>)

| count
a| [[count]]

[source, java]
----
KTable<Windowed<K>, Long> count()
KTable<Windowed<K>, Long> count(
  final Materialized<K, Long, WindowStore<Bytes, byte[]>> materialized)
----

Creates a <<kafka-streams-KTable.adoc#, KTable>> for a <<kafka-streams-Materialized.adoc#, Materialized>> (view of a <<kafka-streams-StateStore-WindowStore.adoc#, WindowStore>>)

| reduce
a| [[reduce]]

[source, java]
----
KTable<Windowed<K>, V> reduce(final Reducer<V> reducer)
KTable<Windowed<K>, V> reduce(
  final Reducer<V> reducer,
  final Materialized<K, V, WindowStore<Bytes, byte[]>> materialized)
----

Creates a <<kafka-streams-KTable.adoc#, KTable>> for a `Reducer` and a <<kafka-streams-Materialized.adoc#, Materialized>> (view of a <<kafka-streams-StateStore-WindowStore.adoc#, WindowStore>>)
|===

[[implementations]]
NOTE: <<kafka-streams-TimeWindowedKStreamImpl.adoc#, TimeWindowedKStreamImpl>> is the one and only known implementation of the <<contract, TimeWindowedKStream Contract>> in Kafka Streams {{ book.kafka_version }}.
